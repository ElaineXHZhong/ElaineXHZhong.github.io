<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[01_nodejs_introduction]]></title>
    <url>%2F2019%2F04%2F22%2Fnodejs-introduction%2F</url>
    <content type="text"><![CDATA[01-Node.js介绍 😊Node.js 是一个 Javascript 运行环境(runtime)。它让 JavaScript 可以开发后端程序，实现几乎其他后端语言实现的所有功能，可以与 PHP、JSP、Python、Ruby 等后端语言平起平坐。 Nodejs 是基于 V8 引擎，V8 是 Google 发布的开源 JavaScript 引擎，本身就是用于 Chrome 浏览器 的 JS 解释部分，但是 Ryan Dahl 这哥们，鬼才般的，把这个 V8 搬到了服务器上，用于做服务器的软件。 短短几年的时间，Node 取得了巨大的成功。在企业界，Node 的应用也越来越广泛，2016 年 nodeJS 官方的调查报告。2016 年全球有 350 万开发者使用 nodeJS,相比去年保持了 100%的增长率。像 Yahoo、Microsoft 这样的大公司，有好多应用已经迁移到 Node 了。国内的阿里巴巴、网易、腾讯、新浪、百度等公司的很多线上产品也纷纷改用 Node 开发，并取得了很好的效果。据统计很多 A 轮、 B 轮的创业公司更喜欢使用 NodeJs 开发。 一、Node.js的优势 Node 打破了过去 JavaScript 只能在浏览器中运行的局面。前后端编程环境统一，可以大大降低开发成本。 超强的高并发能力：Node.js 的首要目标是提供一种简单的、用于创建高性能服务器及可在该服务器中运行的各种应用程序的开发工具。 在 Java、PHP 或者.net 等服务器端语言中，会为每一个客户端连接创建一个新的线程。而每个线程需要耗费大约 2MB 内存。也就是说，理论上，一个 8GB 内存的服务器可以同时连接的最大用户数为 4000 个左右。要让 Web 应用程序支持更多的用户，就需要增加服务器的数量，而 Web 应用程序的硬件成本当然就上升了。 Node.js 不为每个客户连接创建一个新的线程，而仅仅使用一个线程。当有用户连接了，就触发一个 内部事件，通过非阻塞 I/O、事件驱动机制，让 Node.js 程序宏观上也是并行的。使用 Node.js，一个 8GB 内存的服务器，可以同时处理超过 4 万用户的连接。 实现高性能服务器 ：严格地说，Node.js 是一个用于开发各种Web 服务器的开发工具。在 Node.js 服务器中，运行的是高性能 V8 JavaScript 脚本语言，该语言是一种可以运行在服务器端的 JavaScript 脚本语言。 那么，什么是 V8 JavaScript 脚本语言呢？该语言是一种被 V8 JavaScript 引擎所解析并执行的脚本语言。V8 JavaScript 引擎是由 Google 公司使用 C++语言开发的一种高性能 JavaScript 引擎，该引擎并不局限于在浏览 器中运行。Node.js 将其转用在了服务器中，并且为其提供了许多附加的具有各种不同用途的 API。例如， 在一个服务器中，经常需要处理各种二进制数据。在 JavaScript 脚本语言中，只具有非常有限的对二进制数 据的处理能力，而 Node.js 所提供的 Buffer 类则提供了丰富的对二进制数据的处理能力。 另外，在V8 JavaScript 引擎内部使用一种全新的编译技术。这意味着开发者编写的高端的 JavaScript 脚本代 码与开发者编写的低端的C语言具有非常相近的执行效率，这也是Node.js 服务器可以提供的一个重要特性。 开发周期短、开发成本低、学习成本低：Node.js 自身哲学，是花最小的硬件成本，追求更高的并发，更高的处理性能。 二、Node.js适合做什么？ 前后端编程语言环境统一。这类代表是雅虎。雅虎开放了 Cocktai 框架，利用自己深厚的前端沉淀，将 YUI3 这个前端框架的能力借助 Node 延伸到服务器端，使得使用者摆脱了日常工作中一边写 JavaScript—边写 PHP 所帯来的上下文交换负担。 Node带来的高性能 I/0 用于实时应用。Voxer 将 Node应用在实时语音上。国内腾讯的朋友网将 Node 应用在长连接中，以提供实时功能，花瓣网、蘑菇街等公司通过 socket.io 实现实时通知的功能。 并行 I/0 使得使用者可以更高效地利用分布式环境。阿里巴巴 eBay 是这方面的典型。 阿里巴巴的NodeFox和eBay的ql.io都是借用Node 并行 I/O 的能力，更高效地使用已有的数据。 并行 I/O •有效利用稳定接口提升Web渲染能力。雪球财经和 Linkedln 的移动版网站均是这种案例，撇弃同步等待式的顺序请求，大胆采用并行丨/〇，加速数据的获取进而提升 Web 的渲染速度。 云计算平台提供 Node 支持。微软将 Node 引入 Azure 的开发中，阿里云、百度均纷纷 在云服务器上提供 Node 应用托管服务，Joyent 更是云计算中提供 Node 支持的代表。这类平台看重 JavaScript 带来的开发上的优势，以及低资源占用、高性能的特点。 游戏开发领域。游戏领域对实时和并发有很高的要求，网易开源了 pomelo 实时框架， 可以应用在游戏和高实时应用中。 工具类应用。过去依赖 java 或其他语言构建的前端工具类应用，纷纷被一些前端工程 师用 Node 重写，用前端熟悉的语言为前端构建熟悉的工具。 三、Node.js环境搭建 Node.js 和 Java 非常像，跨平台的。不管是 Linux 还是 windows 编程是完全一致的（有一些不一样，比如路径的表述）。Linux 版本的 Node.js 环境和 windows 环境是不一样的，但是编程语言一样。 安装完成后，win+R:cmd—&gt;输入node --version (记得配置path) 四、Node.js开发工具配置 工欲善其事必先利其器，我选择的是VSCode，因为它强大的插件。微软有 Visual Studio这个宇宙最强IDE，Visual Studio Code 自然也不会弱(宇宙最强编辑器)，下面介绍一些VSCode中好用的插件： 1、代码片段(Snippet)插件 当你要从事更加前沿的开发的时候，你就需要一些额外的代码片段插件来辅助你编写ES6/ES7代码。 VS Code JavaScript(ES6) snippets：它是如今最流行的，安装了超过120万的插件。该插件为JavaScript、TypeScript、HTML、React和Vue提供了ES6语法支持。 JavaScript Snippet Pack：JavaScript代码片段集合。 Atom JavaScript Snippet：从Atom移植过来的JavaScript代码片段。 JavaScript Snippets：ES6代码片段，并且包含Mocha、Jasmine和其它BDD测试框架的代码片段。 2、语法插件 VS Code自带的针对JavaScript的语法高亮已经相当不错。你可以安装不同的主题来改变代码的颜色。不过，如果你想要更好的可读性，可以安装代码高亮插件。这里有一些推荐： JavaScript Atom Grammar：该插件将Visual Studio Code自带的JavaScript语法替换成了Atom编辑器的版本。 Babel JavaScript：支持 ES201x JavaScript、React、FlowType和GraphQL代码的语法高亮。 DotENV：如果你使用Node，你需要它。DotEnv提供.env文件的语法高亮。 3、码风格检查插件 为了保证整个团队代码格式的一致性，使用一个代码风格检查工具可以做到。ESLint是最流行的一个工具，因为它支持非常多的代码风格，包括标准的、Google和Airbnb。下面列出一些推荐的插件： ESLint：这个是最流行的代码风格检查插件，有超过670万的安装量。你可以在.eslintrc.json中配置。 JSHint：JSHint的代码风格检查插件。在项目的根目录下面，用.jshintrcfile配置。 JavaScript Standard Style: 一个无需配置的自带非常严格规则的代码风格检查插件。它强制要求你所有代码要遵循标准规则。 JSLint：JSLint的代码风格检查插件。 如果你想要了解各个插件的优缺点，可以看看这篇博客JavaScript代码风格检查插件大评比。 4、Node插件 每一个JavaScript项目至少需要安装一个Node包。这里推荐一些针对Node的插件： npm：使用package.json来验证已经安装的模块，确保已经安装的模块版本号正确，标记那些安装了但是没有在package.json列出来的包，以及那些还没有安装的包。 Node.js Modules IntelliSense：为JavaScript和TypeScript模块自动补全import语句。 Path IntelliSense：虽然并不是真的和Node相关，这个插件可以自动补全文件名，可以在输入时对本地文件进行智能提示。 Node exec：运行你执行当前的Node文件或者选中的部分代码。 View Node Package：通过此插件可以快速查看一个Node包的源代码。 Node Readme：快速打开npm包文档。 Search node_modules：搜索node_modules里面的代码，标准的搜索是不会包含该文件夹的。 Import Cost：显示引入的包的大小 5、代码格式化插件 你也许会发现，有时后复制粘贴完一段代码后，缩进的格式变乱，需要一行一行的调整十分麻烦。这个时候，你肯定想要一个代码格式化工具。 Beautify：安装量超过230万，Beautify是jsBeautifier的插件，支持JavaScript、JSON、CSS和HTML一键格式化。 Prettier Code Formatter：安装量超过150万，支持JavaScript、TypeScript和CSS的格式化，使用Prettier(一个深受大家喜爱的格式化插件)。 JS Refactor：提供了许多重构JavaScript 代码的方法，例如提取代码中的变量和方法，将函数转换为使用箭头函数或模板字面量和将函数导出。 JavaScript Booster：一个非常棒的重构工具，比如将var替换为const或则let，移除无用的else语句，将变量声明和变量初始化合并。应该说很大程度上受到Webstorm的启发。 6、浏览器插件 除非你直接在控制台写JavaScript代码，大多数时候是在浏览器中执行的。也就是说，每一次代码更新，你都需要刷新页面来重写载入代码。如果一直手动操作，是很繁琐的。我们可以用插件来替代。 Debugger for Chrome：你只需要在代码编辑器中设置断点，在浏览器中会在断点处暂停。 Live Server：在本地开发环境中，实时重新加载(reload)页面。 Preview on Web Server：提供web服务器和实时预览。 PHP Server：对于仅需要在客户端运行JavaScript 代码做测试非常有用。 Rest Client：你不需要使用浏览器或则一个CURL程序来测试REST API，通过Rest Client可以在编辑器内交互式运行HTTP请求。 7、框架插件 对于大多数项目，为了节省开发时间，你往往会使用一个合适的开发框架来快速开发。在VS Code上，大多数框架都有相应的插件支持。但是依然有很多框架并没有对应的插件。 Angular 6：超过220万的安装量，支持TypeScript、HTML、Angular Material ngRx、RxJS和Flex Layout。并且有172个Angular的代码片段。 Angular v5 snippets：超过270万的安装量，提供 TypeScript、RxJS、HTML和Docker文件的代码片段。 React Native/React/Redux snippets for es6/es7：为这些框架提供ES6/ES7语法的代码片段。 React Native Tools：提供智能提示、命令行工具和Debugging功能。 Vetur：为Vue框架提供语法高亮、代码片段、Emmet、格式化、代码风格检查、智能提示、调试帮助等。有非常详细的文档: vetur。 Ember：为Ember提供命令工具和智能提示。安装后，所有的ember cli命令都可以使用。 Cordova Tools：为Cordova插件和Ionic框架提供支持。提供代码智能提示、调试辅助以及其他特性。 jQuery Code Snippets：提供超过130个jQuery代码片段。 8、测试插件 在软件开发中，测试是必可不少的一个环节，特别是那些要上线到生产环境的项目。你可以看看我们这篇讲测试的文章: JavaScript Testing: Unit vs Functional vs Integration Tests。下面是一些流行的测试插件： Mocha sidebar：使用Mocha库来提供测试支持。使用该插件可以直接在代码中运行测试并将提示错误。 ES6 Mocha Snippets：提供ES6语法的 Mocha代码片段。充分利用箭头函数，尽量不使用大括号来保持代码的简洁，可配置允许使用分号。 Jasmine Code Snippets：Jasmine测试框架的代码片段。 Protractor Snippets：Protractor框架的端到端(end-to-end)测试片段，支持JavaScript和Typescript。 Node TDD：为Node和JavaScript项目提供test-driven development支持。在代码更新的时候可以自动触发代码的测试。 9、其它很酷的插件 我把它们分类到awesome类别，是因为它们真的很酷。 Quokka.js：一个很棒的调试工具，可以为您正在编写的代码提供实时反馈,能够预览变量的函数和计算值结果。请查看文档：文档 Paste as JSON：快速将JSON数据转换为JavaScript代码。 Code Metrics：这是一个用来计算JavaScript和TypeScript代码复杂度的插件。 10、插件包 VS Code的插件市场有一个类型叫插件包。它实际上已一个相互关联的插件的集合，方便一起安装，协同使用。 Nodejs Extension Pack：包含了ESLint、npm、JavaScript(ES6)代码片段、node_modules搜索、NPM智能提示和文件路径智能提示。 VS Code for Node.js – Development Pack ：NPM智能提示，ESLint，Chrome调试器，Code Metrics，Docker和导入包的开销计算。 Vue.js Extension Pack：包含大约12个VS Code插件，有些在本文没有提到，比如auto-rename-tag和auto-close-tag。 Ionic Extesion Pack：包含许多用于Ionic、Angular、RxJS、Cordova和HTML开发的插件。 11、VSCode 拓展插件推荐——提高 Node 和 Vue开发效率 Auto Close Tag 自动闭合HTML标签 Auto Rename Tag 修改HTML标签时，自动修改匹配的标签 Bookmarks 添加行书签 Can I Use HTML5、CSS3、SVG的浏览器兼容性检查 Code Runner 运行选中代码段（支持大量语言，包括Node） CodeBing 在VSCode中弹出浏览器并搜索，可编辑搜索引擎 Color Highlight 颜色值在代码中高亮显示 Color Picker 拾色器 Document This 注释文档生成 EditorConfig for VS Code EditorConfig插件 Emoji 在代码中输入emoji ESLint ESLint插件，高亮提示 File Peek 根据路径字符串，快速定位到文件 Font-awesome codes for html FontAwesome提示代码段 ftp-sync 同步文件到ftp Git Blame 在状态栏显示当前行的Git信息 Git History(git log) 查看git log GitLens 显示文件最近的commit和作者，显示当前行commit信息 Guides 高亮缩进基准线 Gulp Snippets Gulp代码段 HTML CSS Class Completion CSS class提示 HTML CSS Support css提示（支持vue） HTMLHint HTML格式提示 Indenticator 缩进高亮 JavaScript (ES6) code snippets ES6语法代码段 language-stylus Stylus语法高亮和提示 Lodash Lodash代码段 markdownlint Markdown格式提示 MochaSnippets Mocha代码段 Node modules resolve 快速导航到Node模块 npm 运行npm命令 npm Intellisense 导入模块时，提示已安装模块名称 Output Colorizer 彩色输出信息 Partial Diff 对比两段代码或文件 Path Autocomplete 路径完成提示 Path Intellisense 另一个路径完成提示 Prettify JSON 格式化JSON Project Manager 快速切换项目 REST Client 发送REST风格的HTTP请求 Settings Sync VSCode设置同步到Gist String Manipulation 字符串转换处理（驼峰、大写开头、下划线等等） Test Spec Generator 测试用例生成（支持chai、should、jasmine） TODO Parser Todo管理 Version Lens package.json文件显示模块当前版本和最新版本 vetur 目前比较好的Vue语法高亮 View Node Package 快速打开选中模块的主页和代码仓库 vscode-icons 文件图标，方便定位文件 VSCode Great Icons 文件图标拓展 VueHelper Vue2代码段（包括Vue2 api、vue-router2、vuex2） 附录：VSCode首选项配置 123456789101112131415161718192021222324252627282930313233&#123; &quot;editor.tabSize&quot;: 2, &quot;files.associations&quot;: &#123; &quot;*.vue&quot;: &quot;vue&quot; &#125;, &quot;eslint.autoFixOnSave&quot;: true, &quot;eslint.options&quot;: &#123; &quot;extensions&quot;: [ &quot;.js&quot;, &quot;.vue&quot; ] &#125;, &quot;eslint.validate&quot;: [ &quot;javascript&quot;, &quot;javascriptreact&quot;, &quot;vue&quot;, &quot;vue-html&quot; ], &quot;search.exclude&quot;: &#123; &quot;**/node_modules&quot;: true, &quot;**/bower_components&quot;: true, &quot;**/dist&quot;: true &#125;, &quot;emmet.syntaxProfiles&quot;: &#123; &quot;javascript&quot;: &quot;jsx&quot;, &quot;vue&quot;: &quot;html&quot;, &quot;vue-html&quot;: &quot;html&quot; &#125;, &quot;extensions.autoUpdate&quot;: true, &quot;editor.renderWhitespace&quot;: &quot;boundary&quot;, &quot;editor.cursorBlinking&quot;: &quot;smooth&quot;, &quot;workbench.welcome.enabled&quot;: true&#125; VS Code能够如此流行的一个原因就是拥有大量的高质量插件。它前所未有的提高了编码的效率。比如ESLint助你减少代码失误，Debugger for Chrome让你更加方便去Debugging。Node.js的智能引入提示让你可以让你正确引入所需模块，Live Server和 REST Client可以让你省去频繁切换到外部工具的麻烦。希望介绍的这些插件可以帮助你提高工作效率。]]></content>
      <categories>
        <category>node.js</category>
      </categories>
      <tags>
        <tag>node.js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[VB3.0]]></title>
    <url>%2F2019%2F04%2F22%2FVB3%2F</url>
    <content type="text"><![CDATA[vb3.0VB第三版修改 app.js 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114'use strict'var connection = require('./mysql');var express = require('express');var app = express();var fs = require('fs');var bodyParser = require('body-parser');var cors = require('cors');const path = require('path');var multer = require('multer');var https = require('https');var options = &#123; key:fs.readFileSync('./tbaproject_tk/tbaproject_tk.key'), ca:fs.readFileSync('./tbaproject_tk/AddTrustExternalCARoot.crt'), cert:fs.readFileSync('./tbaproject_tk/tbaproject_tk.crt'),&#125;https.createServer(options,app).listen(443, ()=&gt; &#123;console.log('Server running on https://localhost/');&#125;);app.use(bodyParser.json());app.use(bodyParser.urlencoded(&#123;extended:true&#125;));app.use(cors());app.all('*',function(req,res,next)&#123; res.header("Access-Control-Allow-Credentials", true); res.header("Access-Control-Allow-Origin", "*"); res.header("Access-Control-Allow-Headers", "application/json", "X-Requested-With"); res.header("Access-Control-Allow-Methods", "PUT,POST,GET,DELETE,OPTIONS"); res.header("Content-Type", "application/json;charset=utf-8"); next();&#125;);console.log('1');// onboaringapp.post('/user/onboarding',function(req,res)&#123; var email = req.body.email; console.log(email); var password = '123456'; if(!email)&#123; res.send('Wrong email!'); return; &#125; var json = &#123;&#125;; var sql01 = `select * from user where email = "$&#123;email&#125;"`; connection.query(sql01,function(err,result)&#123; if(err)&#123; throw err; &#125; if(result.length&gt;0)&#123; console.log('User already exists!'); json.message = 'User already exists!'; json.resultCode = 1; &#125;else&#123; console.log('Go to next...'); json.message = 'Go to next...'; json.resultCode = 0; var sql02 = `insert into user(email,password) values("$&#123;email&#125;","$&#123;password&#125;")`; connection.query(sql02,function(err,result)&#123; if(err)&#123; throw err; &#125; &#125;); &#125; res.send(JSON.stringify(json)); &#125;);&#125;);console.log('100');// upload imagevar storage01 = multer.diskStorage(&#123; destination: './images/', filename: function(req, file, cb) &#123; return cb(null, "" + file.originalname); &#125; &#125;);app.post("/user/image", multer(&#123; storage: storage01 &#125;).single('image'), function(req, res) &#123; console.log('Sign saved!'); var email = req.body.email; console.log(email); var path01 = path.join(__dirname,req.file.path); // var sql01 = `update user set image="$&#123;path01&#125;" where email="$&#123;email&#125;"`; var sql01 = `insert into images(image) values("$&#123;path01&#125;") `; connection.query(sql01,function(err,result)&#123; if(err)&#123; throw err; &#125; &#125;); return res.status(200).end('success'); &#125; );// upload audiovar storage02 = multer.diskStorage(&#123; destination: './audios/', filename: function(req, file, cb) &#123; return cb(null, "" + file.originalname); &#125; &#125;); app.post("/user/audio", multer(&#123; storage: storage02 &#125;).single('audio'), function(req, res) &#123; console.log('Audio saved!'); var email = req.body.email; var path01 = path.join(__dirname,req.file.path); // var sql01 = `update user set audio="$&#123;path01&#125;" where email="$&#123;email&#125;"`; var sql01 = `insert into audios(audio) values("$&#123;path01&#125;") `; connection.query(sql01,function(err,result)&#123; if(err)&#123; throw err; &#125; &#125;); return res.status(200).end('success'); &#125; );// app1.js 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229'use strict'var connection = require('./mysql');var express = require('express');var app = express();var fs = require('fs');var bodyParser = require('body-parser');var cors = require('cors');const path = require('path');var multer = require('multer');var https = require('https');var nodemailer = require('nodemailer');var request = require('request');var options = &#123; key:fs.readFileSync('/etc/apache2/ssl/tbaproject.com.key'), ca:fs.readFileSync('/etc/apache2/ssl/myCA.pem'), cert:fs.readFileSync('/etc/apache2/ssl/tbaproject.com.crt'),&#125;https.createServer(options,app).listen(443, ()=&gt; &#123;console.log('Server running on https://localhost/');&#125;);app.use(bodyParser.json());app.use(bodyParser.urlencoded(&#123;extended:true&#125;));app.use(cors());app.all('*',function(req,res,next)&#123; res.header("Access-Control-Allow-Credentials", true); res.header("Access-Control-Allow-Origin", "*"); res.header("Access-Control-Allow-Headers", "application/json", "X-Requested-With"); res.header("Access-Control-Allow-Methods", "PUT,POST,GET,DELETE,OPTIONS"); res.header("Content-Type", "application/json;charset=utf-8"); next();&#125;);// onboaringapp.post('/user/onboarding',function(req,res)&#123; var email = req.body.email; console.log(email); var password = '123456'; if(!email)&#123; res.send('No email!'); return; &#125; var json = &#123;&#125;; var sql01 = `select email from user where email = "$&#123;email&#125;"`; connection.query(sql01,function(err,result)&#123; if(err)&#123; throw err; &#125; if(result.length&gt;0)&#123; console.log('User already exists!'); json.message = 'User already exists!'; json.resultCode = 1; &#125;else&#123; console.log('Go to next...'); json.message = 'Go to next...'; json.resultCode = 0; var sql02 = `insert into user(email,password) values("$&#123;email&#125;","$&#123;password&#125;")`; connection.query(sql02,function(err,result)&#123; if(err)&#123; throw err; &#125; &#125;); &#125; res.send(JSON.stringify(json)); &#125;);&#125;);// upload imagevar storage01 = multer.diskStorage(&#123; destination: './images/', filename: function(req, file, cb) &#123; return cb(null, "" + file.originalname); &#125; &#125;);app.post("/user/image", multer(&#123; storage: storage01 &#125;).single('image'), function(req, res) &#123; console.log('Sign saved!'); var email = req.body.email; console.log(email); var path01 = path.join(__dirname,req.file.path); // var sql01 = `update user set image="$&#123;path01&#125;" where email="$&#123;email&#125;"`; var sql01 = `insert into images(image) values("$&#123;path01&#125;") `; // send path01 to python server------------------------------------------ var req = &#123; "request":&#123; "header":&#123;&#125;, "body":&#123; "imagePath":`"$&#123;path01&#125;"` &#125; &#125; &#125;; request(&#123; url:'', body:JSON.stringify(req), method:'POST', json:true, headers:&#123;"content-type":"application/json"&#125;, // body:JSON.stringify(requestData) &#125;,function(error,response,body)&#123; // if(!error&amp;response.statusCode == 200)&#123; // console.log(body); // &#125; &#125;); // ---------------------------------------------------------------------- connection.query(sql01,function(err,result)&#123; if(err)&#123; throw err; &#125; &#125;); return res.status(200).end('success'); &#125; );// upload audiovar storage02 = multer.diskStorage(&#123; destination: './audios/', filename: function(req, file, cb) &#123; return cb(null, "" + file.originalname); &#125; &#125;); app.post("/user/audio", multer(&#123; storage: storage02 &#125;).single('audio'), function(req, res) &#123; console.log('Audio saved!'); var email = req.body.email; var path01 = path.join(__dirname,req.file.path); // var sql01 = `update user set audio="$&#123;path01&#125;" where email="$&#123;email&#125;"`; var sql01 = `insert into audios(audio) values("$&#123;path01&#125;") `; // send path01 to python server------------------------------------------ var req = &#123; "request":&#123; "header":&#123;&#125;, "body":&#123; "audioPath":`"$&#123;path01&#125;"` &#125; &#125; &#125;; request(&#123; url:'', body:JSON.stringify(req), method:'POST', json:true, headers:&#123;"content-type":"application/json"&#125;, // body:JSON.stringify(requestData) &#125;,function(error,response,body)&#123; // if(!error&amp;response.statusCode == 200)&#123; // console.log(body); // &#125; &#125;); // ---------------------------------------------------------------------- connection.query(sql01,function(err,result)&#123; if(err)&#123; throw err; &#125; &#125;); return res.status(200).end('success'); &#125; );// loginapp.post('/user/login',function(req,res)&#123; var email = req.body.email; var password = req.body.password; console.log(email); console.log(password); if(!email)&#123; res.send('No email!'); return; &#125; if(!password)&#123; res.send('No password!'); return; &#125; var json = &#123;&#125;; var sql01 = `select email, password from user where email = "$&#123;email&#125;" and password = "$&#123;password&#125;"`; connection.query(sql01,function(err,result)&#123; if(err)&#123; throw err; &#125; if(result.length&gt;0)&#123; console.log('login'); json.message = 'login'; json.resultCode = 1; &#125;else&#123; console.log('Wrong email or password! Login failed.'); json.message = 'Wrong email or password! Login failed.'; json.resultCode = 0; &#125; res.send(JSON.stringify(json)); &#125;);&#125;);//submitapp.post('/user/submit',function(req,res)&#123; var email = req.body.email; console.log(email); if(!email)&#123; res.send('No email!'); return; &#125;// send activation email if(email)&#123; var transporter = nodemailer.createTransport(&#123; debug: true, host: 'localhost', port: 25, tls:&#123;rejectUnauthorized: false&#125;, &#125;); var options = &#123; from: 'ace@tbaproject.com', to: email, subject: 'Welcome to TBA!', text: 'Hello TBA', // html: '&lt;h2&gt;Text&lt;/h2&gt;&lt;a href="virtual_bank.html"&gt;Tbaprojec&lt;/a&gt;&lt;p&gt;text&lt;/p&gt;', html: fs.createReadStream(path.resolve(__dirname, 'virtual_bank.html')) // 流 &#125;; // send email transporter.sendMail(options, function(error, info)&#123; if(error)&#123; res.send("email sent fail\n" + error); console.log(error); &#125;else&#123; res.send("email sent\n" + info.response); console.log('訊息發送: ' + info.respons); &#125; &#125;); &#125;&#125;); email.js 12345678910111213141516171819202122232425var nodemailer = require('nodemailer');var transporter = nodemailer.createTransport(&#123; debug: true, host: 'localhost', port: 25, tls:&#123;rejectUnauthorized: false&#125;,&#125;);var options = &#123; from: 'ace@tbaproject.com', to: 'test@tbaproject.com', subject: 'Welcome to TBA!', text: 'Hello TBA', html: '&lt;h2&gt;TextTextTextTextText&lt;/h2&gt;&lt;a href="https://ithelp.ithome.com.tw/articles/10160766" title="Node.js 系列學習日誌"&gt;Node.js 系列學習日誌&lt;/a&gt; texttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttexttext&lt;/p&gt;',&#125;;transporter.sendMail(options, function(error, info)&#123; if(error)&#123; console.log(error); &#125;else&#123; console.log('訊息發送: ' + info.response); &#125;&#125;); mysql.js 123456789var mysql = require('mysql');const connection = mysql.createConnection(&#123; host:'localhost', user:'root', password:'xxxxxxxx', database:'virtual_bank'&#125;);connection.connect();module.exports = connection; virtual_bank.html 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719720721722723724725726727728729730731732733734735736737738739740741742743744745746747748749750751752753754755756757758759760761762763764765766767768769770771772773774775776777778779780781782783784785786787788789790791792793794795796797798799800801802803804805806807808809810811812813814815816817818819820821822823824825826827828829830831832833834835836837838839840841842843844845846847848849850851852853854855856857858859860861862863864865866867868869870871872873874875876877878879880881882883884885886887888889890891892893894895896897898899900901902903904905906907908909910911912913914915916917918919920921922923924925926927928929930931932933934935936937938939940941942943944945946947948949950951952953954955956957958959960961962963964965966967968969970971972973974975976977978979980981982983984985986987988989990991&lt;!doctype html&gt;&lt;html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office"&gt; &lt;head&gt; &lt;!-- NAME: SELL PRODUCTS --&gt; &lt;!--[if gte mso 15]&gt; &lt;xml&gt; &lt;o:OfficeDocumentSettings&gt; &lt;o:AllowPNG/&gt; &lt;o:PixelsPerInch&gt;96&lt;/o:PixelsPerInch&gt; &lt;/o:OfficeDocumentSettings&gt; &lt;/xml&gt; &lt;![endif]--&gt; &lt;meta charset="UTF-8"&gt; &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt; &lt;title&gt;*|MC:SUBJECT|*&lt;/title&gt; &lt;style type="text/css"&gt; p&#123; margin:10px 0; padding:0; &#125; table&#123; border-collapse:collapse; &#125; h1,h2,h3,h4,h5,h6&#123; display:block; margin:0; padding:0; &#125; img,a img&#123; border:0; height:auto; outline:none; text-decoration:none; &#125; body,#bodyTable,#bodyCell&#123; height:100%; margin:0; padding:0; width:100%; &#125; .mcnPreviewText&#123; display:none !important; &#125; #outlook a&#123; padding:0; &#125; img&#123; -ms-interpolation-mode:bicubic; &#125; table&#123; mso-table-lspace:0pt; mso-table-rspace:0pt; &#125; .ReadMsgBody&#123; width:100%; &#125; .ExternalClass&#123; width:100%; &#125; p,a,li,td,blockquote&#123; mso-line-height-rule:exactly; &#125; a[href^=tel],a[href^=sms]&#123; color:inherit; cursor:default; text-decoration:none; &#125; p,a,li,td,body,table,blockquote&#123; -ms-text-size-adjust:100%; -webkit-text-size-adjust:100%; &#125; .ExternalClass,.ExternalClass p,.ExternalClass td,.ExternalClass div,.ExternalClass span,.ExternalClass font&#123; line-height:100%; &#125; a[x-apple-data-detectors]&#123; color:inherit !important; text-decoration:none !important; font-size:inherit !important; font-family:inherit !important; font-weight:inherit !important; line-height:inherit !important; &#125; .templateContainer&#123; max-width:600px !important; &#125; a.mcnButton&#123; display:block; &#125; .mcnImage,.mcnRetinaImage&#123; vertical-align:bottom; &#125; .mcnTextContent&#123; word-break:break-word; &#125; .mcnTextContent img&#123; height:auto !important; &#125; .mcnDividerBlock&#123; table-layout:fixed !important; &#125; /* @tab Page @section Heading 1 @style heading 1 */ h1&#123; /*@editable*/color:#222222; /*@editable*/font-family:Helvetica; /*@editable*/font-size:40px; /*@editable*/font-style:normal; /*@editable*/font-weight:bold; /*@editable*/line-height:150%; /*@editable*/letter-spacing:normal; /*@editable*/text-align:center; &#125; /* @tab Page @section Heading 2 @style heading 2 */ h2&#123; /*@editable*/color:#222222; /*@editable*/font-family:Helvetica; /*@editable*/font-size:34px; /*@editable*/font-style:normal; /*@editable*/font-weight:bold; /*@editable*/line-height:150%; /*@editable*/letter-spacing:normal; /*@editable*/text-align:left; &#125; /* @tab Page @section Heading 3 @style heading 3 */ h3&#123; /*@editable*/color:#444444; /*@editable*/font-family:Helvetica; /*@editable*/font-size:22px; /*@editable*/font-style:normal; /*@editable*/font-weight:bold; /*@editable*/line-height:150%; /*@editable*/letter-spacing:normal; /*@editable*/text-align:left; &#125; /* @tab Page @section Heading 4 @style heading 4 */ h4&#123; /*@editable*/color:#949494; /*@editable*/font-family:Georgia; /*@editable*/font-size:20px; /*@editable*/font-style:italic; /*@editable*/font-weight:normal; /*@editable*/line-height:125%; /*@editable*/letter-spacing:normal; /*@editable*/text-align:left; &#125; /* @tab Header @section Header Container Style */ #templateHeader&#123; /*@editable*/background-color:#F7F7F7; /*@editable*/background-image:none; /*@editable*/background-repeat:no-repeat; /*@editable*/background-position:center; /*@editable*/background-size:cover; /*@editable*/border-top:0; /*@editable*/border-bottom:0; /*@editable*/padding-top:45px; /*@editable*/padding-bottom:45px; &#125; /* @tab Header @section Header Interior Style */ .headerContainer&#123; /*@editable*/background-color:transparent; /*@editable*/background-image:none; /*@editable*/background-repeat:no-repeat; /*@editable*/background-position:center; /*@editable*/background-size:cover; /*@editable*/border-top:0; /*@editable*/border-bottom:0; /*@editable*/padding-top:0; /*@editable*/padding-bottom:0; &#125; /* @tab Header @section Header Text */ .headerContainer .mcnTextContent,.headerContainer .mcnTextContent p&#123; /*@editable*/color:#757575; /*@editable*/font-family:Helvetica; /*@editable*/font-size:16px; /*@editable*/line-height:150%; /*@editable*/text-align:left; &#125; /* @tab Header @section Header Link */ .headerContainer .mcnTextContent a,.headerContainer .mcnTextContent p a&#123; /*@editable*/color:#007C89; /*@editable*/font-weight:normal; /*@editable*/text-decoration:underline; &#125; /* @tab Body @section Body Container Style */ #templateBody&#123; /*@editable*/background-color:#FFFFFF; /*@editable*/background-image:none; /*@editable*/background-repeat:no-repeat; /*@editable*/background-position:center; /*@editable*/background-size:cover; /*@editable*/border-top:0; /*@editable*/border-bottom:0; /*@editable*/padding-top:36px; /*@editable*/padding-bottom:45px; &#125; /* @tab Body @section Body Interior Style */ .bodyContainer&#123; /*@editable*/background-color:transparent; /*@editable*/background-image:none; /*@editable*/background-repeat:no-repeat; /*@editable*/background-position:center; /*@editable*/background-size:cover; /*@editable*/border-top:0; /*@editable*/border-bottom:0; /*@editable*/padding-top:0; /*@editable*/padding-bottom:0; &#125; /* @tab Body @section Body Text */ .bodyContainer .mcnTextContent,.bodyContainer .mcnTextContent p&#123; /*@editable*/color:#757575; /*@editable*/font-family:Helvetica; /*@editable*/font-size:16px; /*@editable*/line-height:150%; /*@editable*/text-align:left; &#125; /* @tab Body @section Body Link */ .bodyContainer .mcnTextContent a,.bodyContainer .mcnTextContent p a&#123; /*@editable*/color:#007C89; /*@editable*/font-weight:normal; /*@editable*/text-decoration:underline; &#125; /* @tab Footer @section Footer Style */ #templateFooter&#123; /*@editable*/background-color:#333333; /*@editable*/background-image:none; /*@editable*/background-repeat:no-repeat; /*@editable*/background-position:center; /*@editable*/background-size:cover; /*@editable*/border-top:0; /*@editable*/border-bottom:0; /*@editable*/padding-top:45px; /*@editable*/padding-bottom:63px; &#125; /* @tab Footer @section Footer Interior Style */ .footerContainer&#123; /*@editable*/background-color:transparent; /*@editable*/background-image:none; /*@editable*/background-repeat:no-repeat; /*@editable*/background-position:center; /*@editable*/background-size:cover; /*@editable*/border-top:0; /*@editable*/border-bottom:0; /*@editable*/padding-top:0; /*@editable*/padding-bottom:0; &#125; /* @tab Footer @section Footer Text */ .footerContainer .mcnTextContent,.footerContainer .mcnTextContent p&#123; /*@editable*/color:#FFFFFF; /*@editable*/font-family:Helvetica; /*@editable*/font-size:12px; /*@editable*/line-height:150%; /*@editable*/text-align:center; &#125; /* @tab Footer @section Footer Link */ .footerContainer .mcnTextContent a,.footerContainer .mcnTextContent p a&#123; /*@editable*/color:#FFFFFF; /*@editable*/font-weight:normal; /*@editable*/text-decoration:underline; &#125; @media only screen and (min-width:768px)&#123; .templateContainer&#123; width:600px !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; body,table,td,p,a,li,blockquote&#123; -webkit-text-size-adjust:none !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; body&#123; width:100% !important; min-width:100% !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; .mcnRetinaImage&#123; max-width:100% !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; .mcnImage&#123; width:100% !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; .mcnCartContainer,.mcnCaptionTopContent,.mcnRecContentContainer,.mcnCaptionBottomContent,.mcnTextContentContainer,.mcnBoxedTextContentContainer,.mcnImageGroupContentContainer,.mcnCaptionLeftTextContentContainer,.mcnCaptionRightTextContentContainer,.mcnCaptionLeftImageContentContainer,.mcnCaptionRightImageContentContainer,.mcnImageCardLeftTextContentContainer,.mcnImageCardRightTextContentContainer,.mcnImageCardLeftImageContentContainer,.mcnImageCardRightImageContentContainer&#123; max-width:100% !important; width:100% !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; .mcnBoxedTextContentContainer&#123; min-width:100% !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; .mcnImageGroupContent&#123; padding:9px !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; .mcnCaptionLeftContentOuter .mcnTextContent,.mcnCaptionRightContentOuter .mcnTextContent&#123; padding-top:9px !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; .mcnImageCardTopImageContent,.mcnCaptionBottomContent:last-child .mcnCaptionBottomImageContent,.mcnCaptionBlockInner .mcnCaptionTopContent:last-child .mcnTextContent&#123; padding-top:18px !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; .mcnImageCardBottomImageContent&#123; padding-bottom:9px !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; .mcnImageGroupBlockInner&#123; padding-top:0 !important; padding-bottom:0 !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; .mcnImageGroupBlockOuter&#123; padding-top:9px !important; padding-bottom:9px !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; .mcnTextContent,.mcnBoxedTextContentColumn&#123; padding-right:18px !important; padding-left:18px !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; .mcnImageCardLeftImageContent,.mcnImageCardRightImageContent&#123; padding-right:18px !important; padding-bottom:0 !important; padding-left:18px !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; .mcpreview-image-uploader&#123; display:none !important; width:100% !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; /* @tab Mobile Styles @section Heading 1 @tip Make the first-level headings larger in size for better readability on small screens. */ h1&#123; /*@editable*/font-size:30px !important; /*@editable*/line-height:125% !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; /* @tab Mobile Styles @section Heading 2 @tip Make the second-level headings larger in size for better readability on small screens. */ h2&#123; /*@editable*/font-size:26px !important; /*@editable*/line-height:125% !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; /* @tab Mobile Styles @section Heading 3 @tip Make the third-level headings larger in size for better readability on small screens. */ h3&#123; /*@editable*/font-size:20px !important; /*@editable*/line-height:150% !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; /* @tab Mobile Styles @section Heading 4 @tip Make the fourth-level headings larger in size for better readability on small screens. */ h4&#123; /*@editable*/font-size:18px !important; /*@editable*/line-height:150% !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; /* @tab Mobile Styles @section Boxed Text @tip Make the boxed text larger in size for better readability on small screens. We recommend a font size of at least 16px. */ .mcnBoxedTextContentContainer .mcnTextContent,.mcnBoxedTextContentContainer .mcnTextContent p&#123; /*@editable*/font-size:14px !important; /*@editable*/line-height:150% !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; /* @tab Mobile Styles @section Header Text @tip Make the header text larger in size for better readability on small screens. */ .headerContainer .mcnTextContent,.headerContainer .mcnTextContent p&#123; /*@editable*/font-size:16px !important; /*@editable*/line-height:150% !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; /* @tab Mobile Styles @section Body Text @tip Make the body text larger in size for better readability on small screens. We recommend a font size of at least 16px. */ .bodyContainer .mcnTextContent,.bodyContainer .mcnTextContent p&#123; /*@editable*/font-size:16px !important; /*@editable*/line-height:150% !important; &#125;&#125; @media only screen and (max-width: 480px)&#123; /* @tab Mobile Styles @section Footer Text @tip Make the footer content text larger in size for better readability on small screens. */ .footerContainer .mcnTextContent,.footerContainer .mcnTextContent p&#123; /*@editable*/font-size:14px !important; /*@editable*/line-height:150% !important; &#125;&#125;&lt;/style&gt;&lt;/head&gt; &lt;body&gt; &lt;!--*|IF:MC_PREVIEW_TEXT|*--&gt; &lt;!--[if !gte mso 9]&gt;&lt;!----&gt;&lt;span class="mcnPreviewText" style="display:none; font-size:0px; line-height:0px; max-height:0px; max-width:0px; opacity:0; overflow:hidden; visibility:hidden; mso-hide:all;"&gt;*|MC_PREVIEW_TEXT|*&lt;/span&gt;&lt;!--&lt;![endif]--&gt; &lt;!--*|END:IF|*--&gt; &lt;center&gt; &lt;table align="center" border="0" cellpadding="0" cellspacing="0" height="100%" width="100%" id="bodyTable"&gt; &lt;tr&gt; &lt;td align="center" valign="top" id="bodyCell"&gt; &lt;!-- BEGIN TEMPLATE // --&gt; &lt;table border="0" cellpadding="0" cellspacing="0" width="100%"&gt; &lt;tr&gt; &lt;td align="center" valign="top" id="templateHeader" data-template-container&gt; &lt;!--[if (gte mso 9)|(IE)]&gt; &lt;table align="center" border="0" cellspacing="0" cellpadding="0" width="600" style="width:600px;"&gt; &lt;tr&gt; &lt;td align="center" valign="top" width="600" style="width:600px;"&gt; &lt;![endif]--&gt; &lt;table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" class="templateContainer"&gt; &lt;tr&gt; &lt;td valign="top" class="headerContainer"&gt;&lt;table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnImageBlock" style="min-width:100%;"&gt; &lt;tbody class="mcnImageBlockOuter"&gt; &lt;tr&gt; &lt;td valign="top" style="padding:9px" class="mcnImageBlockInner"&gt; &lt;table align="left" width="100%" border="0" cellpadding="0" cellspacing="0" class="mcnImageContentContainer" style="min-width:100%;"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td class="mcnImageContent" valign="top" style="padding-right: 9px; padding-left: 9px; padding-top: 0; padding-bottom: 0; text-align:center;"&gt; &lt;img align="center" alt="" src="html_image/01.jpg" width="564" style="max-width:1439px; padding-bottom: 0; display: inline !important; vertical-align: bottom;" class="mcnImage"&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnTextBlock" style="min-width:100%;"&gt; &lt;tbody class="mcnTextBlockOuter"&gt; &lt;tr&gt; &lt;td valign="top" class="mcnTextBlockInner" style="padding-top:9px;"&gt; &lt;!--[if mso]&gt; &lt;table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"&gt; &lt;tr&gt; &lt;![endif]--&gt; &lt;!--[if mso]&gt; &lt;td valign="top" width="600" style="width:600px;"&gt; &lt;![endif]--&gt; &lt;table align="left" border="0" cellpadding="0" cellspacing="0" style="max-width:100%; min-width:100%;" width="100%" class="mcnTextContentContainer"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td valign="top" class="mcnTextContent" style="padding-top:0; padding-right:18px; padding-bottom:9px; padding-left:18px;"&gt; &lt;h1&gt;Virtual Bank in Hong Kong&lt;/h1&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;!--[if mso]&gt; &lt;/td&gt; &lt;![endif]--&gt; &lt;!--[if mso]&gt; &lt;/tr&gt; &lt;/table&gt; &lt;![endif]--&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;!--[if (gte mso 9)|(IE)]&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;![endif]--&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td align="center" valign="top" id="templateBody" data-template-container&gt; &lt;!--[if (gte mso 9)|(IE)]&gt; &lt;table align="center" border="0" cellspacing="0" cellpadding="0" width="600" style="width:600px;"&gt; &lt;tr&gt; &lt;td align="center" valign="top" width="600" style="width:600px;"&gt; &lt;![endif]--&gt; &lt;table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" class="templateContainer"&gt; &lt;tr&gt; &lt;td valign="top" class="bodyContainer"&gt;&lt;table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnImageBlock" style="min-width:100%;"&gt; &lt;tbody class="mcnImageBlockOuter"&gt; &lt;tr&gt; &lt;td valign="top" style="padding:9px" class="mcnImageBlockInner"&gt; &lt;table align="left" width="100%" border="0" cellpadding="0" cellspacing="0" class="mcnImageContentContainer" style="min-width:100%;"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td class="mcnImageContent" valign="top" style="padding-right: 9px; padding-left: 9px; padding-top: 0; padding-bottom: 0; text-align:center;"&gt; &lt;img align="center" alt="" src="html_image/02.jpg" width="564" style="max-width:814px; padding-bottom: 0; display: inline !important; vertical-align: bottom;" class="mcnImage"&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnTextBlock" style="min-width:100%;"&gt; &lt;tbody class="mcnTextBlockOuter"&gt; &lt;tr&gt; &lt;td valign="top" class="mcnTextBlockInner" style="padding-top:9px;"&gt; &lt;!--[if mso]&gt; &lt;table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"&gt; &lt;tr&gt; &lt;![endif]--&gt; &lt;!--[if mso]&gt; &lt;td valign="top" width="600" style="width:600px;"&gt; &lt;![endif]--&gt; &lt;table align="left" border="0" cellpadding="0" cellspacing="0" style="max-width:100%; min-width:100%;" width="100%" class="mcnTextContentContainer"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td valign="top" class="mcnTextContent" style="padding-top:0; padding-right:18px; padding-bottom:9px; padding-left:18px;"&gt; &lt;h3&gt;Welcome to the Virtual Bank, confirm you're human&lt;/h3&gt;&lt;p&gt;Since you've made it this far, we want to assume you're a real, live human. But we need to be super sure you aren't a robot.&lt;/p&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;!--[if mso]&gt; &lt;/td&gt; &lt;![endif]--&gt; &lt;!--[if mso]&gt; &lt;/tr&gt; &lt;/table&gt; &lt;![endif]--&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnButtonBlock" style="min-width:100%;"&gt; &lt;tbody class="mcnButtonBlockOuter"&gt; &lt;tr&gt; &lt;td style="padding-top:0; padding-right:18px; padding-bottom:18px; padding-left:18px;" valign="top" align="center" class="mcnButtonBlockInner"&gt; &lt;table border="0" cellpadding="0" cellspacing="0" class="mcnButtonContentContainer" style="border-collapse: separate !important;border-radius: 3px;background-color: #009FC7;"&gt; &lt;tbody&gt; &lt;tr&gt; &lt;td align="center" valign="middle" class="mcnButtonContent" style="font-family: Helvetica; font-size: 18px; padding: 18px;"&gt; &lt;a class="mcnButton " title="I'm Not a Robot" href="" target="_blank" style="font-weight: bold;letter-spacing: -0.5px;line-height: 100%;text-align: center;text-decoration: none;color: #FFFFFF;"&gt;I'm Not a Robot&lt;/a&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;/table&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnDividerBlock" style="min-width:100%;"&gt; &lt;tbody class="mcnDividerBlockOuter"&gt; &lt;tr&gt; &lt;td class="mcnDividerBlockInner" style="min-width:100%; padding:18px;"&gt; &lt;table class="mcnDividerContent" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td&gt; &lt;span&gt;&lt;/span&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;!-- &lt;td class="mcnDividerBlockInner" style="padding: 18px;"&gt; &lt;hr class="mcnDividerContent" style="border-bottom-color:none; border-left-color:none; border-right-color:none; border-bottom-width:0; border-left-width:0; border-right-width:0; margin-top:0; margin-right:0; margin-bottom:0; margin-left:0;" /&gt;--&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnCaptionBlock"&gt; &lt;tbody class="mcnCaptionBlockOuter"&gt; &lt;tr&gt; &lt;td class="mcnCaptionBlockInner" valign="top" style="padding:9px;"&gt; &lt;table align="left" border="0" cellpadding="0" cellspacing="0" class="mcnCaptionBottomContent" width="282"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td class="mcnCaptionBottomImageContent" align="center" valign="top" style="padding:0 9px 9px 9px;"&gt; &lt;img alt="" src="html_image/03.jpg" width="264" style="max-width:1200px;" class="mcnImage"&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td class="mcnTextContent" valign="top" style="padding:0 9px 0 9px;" width="282"&gt; &lt;h4&gt;We are innovating&lt;/h4&gt;&lt;p&gt;Virtual bank combines the latest technology in artificial intelligence, predictive analytics and natural language to be a virtual financial assistant to clients.&lt;/p&gt;&lt;p&gt;&lt;a href="#"&gt;View our website&amp;nbsp;»&lt;/a&gt;&lt;/p&gt; &lt;/td&gt; &lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;table align="right" border="0" cellpadding="0" cellspacing="0" class="mcnCaptionBottomContent" width="282"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td class="mcnCaptionBottomImageContent" align="center" valign="top" style="padding:0 9px 9px 9px;"&gt; &lt;img alt="" src="html_image/04.png" width="264" style="max-width:675px;" class="mcnImage"&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td class="mcnTextContent" valign="top" style="padding:0 9px 0 9px;" width="282"&gt; &lt;h4&gt;Growing with clients&lt;/h4&gt;&lt;p&gt;Everything we do is based on what we hear from our clients: how they want to interact with us and how we can make their&amp;nbsp;financial lives better.&lt;/p&gt;&lt;p&gt;&lt;a href="#"&gt;See our service »&lt;/a&gt;&lt;/p&gt; &lt;/td&gt; &lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;!--[if (gte mso 9)|(IE)]&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;![endif]--&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td align="center" valign="top" id="templateFooter" data-template-container&gt; &lt;!--[if (gte mso 9)|(IE)]&gt; &lt;table align="center" border="0" cellspacing="0" cellpadding="0" width="600" style="width:600px;"&gt; &lt;tr&gt; &lt;td align="center" valign="top" width="600" style="width:600px;"&gt; &lt;![endif]--&gt; &lt;table align="center" border="0" cellpadding="0" cellspacing="0" width="100%" class="templateContainer"&gt; &lt;tr&gt; &lt;td valign="top" class="footerContainer"&gt;&lt;table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnFollowBlock" style="min-width:100%;"&gt; &lt;tbody class="mcnFollowBlockOuter"&gt; &lt;tr&gt; &lt;td align="center" valign="top" style="padding:9px" class="mcnFollowBlockInner"&gt; &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnFollowContentContainer" style="min-width:100%;"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td align="center" style="padding-left:9px;padding-right:9px;"&gt; &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;" class="mcnFollowContent"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td align="center" valign="top" style="padding-top:9px; padding-right:9px; padding-left:9px;"&gt; &lt;table align="center" border="0" cellpadding="0" cellspacing="0"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td align="center" valign="top"&gt; &lt;!--[if mso]&gt; &lt;table align="center" border="0" cellspacing="0" cellpadding="0"&gt; &lt;tr&gt; &lt;![endif]--&gt; &lt;!--[if mso]&gt; &lt;td align="center" valign="top"&gt; &lt;![endif]--&gt; &lt;table align="left" border="0" cellpadding="0" cellspacing="0" style="display:inline;"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td valign="top" style="padding-right:10px; padding-bottom:9px;" class="mcnFollowContentItemContainer"&gt; &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnFollowContentItem"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td align="left" valign="middle" style="padding-top:5px; padding-right:10px; padding-bottom:5px; padding-left:9px;"&gt; &lt;table align="left" border="0" cellpadding="0" cellspacing="0" width=""&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td align="center" valign="middle" width="24" class="mcnFollowIconContent"&gt; &lt;a href="http://www.facebook.com" target="_blank"&gt;&lt;img src="html_image/05.png" style="display:block;" height="24" width="24" class=""&gt;&lt;/a&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;!--[if mso]&gt; &lt;/td&gt; &lt;![endif]--&gt; &lt;!--[if mso]&gt; &lt;td align="center" valign="top"&gt; &lt;![endif]--&gt; &lt;table align="left" border="0" cellpadding="0" cellspacing="0" style="display:inline;"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td valign="top" style="padding-right:10px; padding-bottom:9px;" class="mcnFollowContentItemContainer"&gt; &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnFollowContentItem"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td align="left" valign="middle" style="padding-top:5px; padding-right:10px; padding-bottom:5px; padding-left:9px;"&gt; &lt;table align="left" border="0" cellpadding="0" cellspacing="0" width=""&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td align="center" valign="middle" width="24" class="mcnFollowIconContent"&gt; &lt;a href="http://www.twitter.com/" target="_blank"&gt;&lt;img src="html_image/06.png" style="display:block;" height="24" width="24" class=""&gt;&lt;/a&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;!--[if mso]&gt; &lt;/td&gt; &lt;![endif]--&gt; &lt;!--[if mso]&gt; &lt;td align="center" valign="top"&gt; &lt;![endif]--&gt; &lt;table align="left" border="0" cellpadding="0" cellspacing="0" style="display:inline;"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td valign="top" style="padding-right:10px; padding-bottom:9px;" class="mcnFollowContentItemContainer"&gt; &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnFollowContentItem"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td align="left" valign="middle" style="padding-top:5px; padding-right:10px; padding-bottom:5px; padding-left:9px;"&gt; &lt;table align="left" border="0" cellpadding="0" cellspacing="0" width=""&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td align="center" valign="middle" width="24" class="mcnFollowIconContent"&gt; &lt;a href="http://www.instagram.com/" target="_blank"&gt;&lt;img src="html_image/07.png" style="display:block;" height="24" width="24" class=""&gt;&lt;/a&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;!--[if mso]&gt; &lt;/td&gt; &lt;![endif]--&gt; &lt;!--[if mso]&gt; &lt;td align="center" valign="top"&gt; &lt;![endif]--&gt; &lt;table align="left" border="0" cellpadding="0" cellspacing="0" style="display:inline;"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td valign="top" style="padding-right:0; padding-bottom:9px;" class="mcnFollowContentItemContainer"&gt; &lt;table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnFollowContentItem"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td align="left" valign="middle" style="padding-top:5px; padding-right:10px; padding-bottom:5px; padding-left:9px;"&gt; &lt;table align="left" border="0" cellpadding="0" cellspacing="0" width=""&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td align="center" valign="middle" width="24" class="mcnFollowIconContent"&gt; &lt;a href="http://mailchimp.com" target="_blank"&gt;&lt;img src="html_image/08.png" style="display:block;" height="24" width="24" class=""&gt;&lt;/a&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;!--[if mso]&gt; &lt;/td&gt; &lt;![endif]--&gt; &lt;!--[if mso]&gt; &lt;/tr&gt; &lt;/table&gt; &lt;![endif]--&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;/td&gt; &lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnDividerBlock" style="min-width:100%;"&gt; &lt;tbody class="mcnDividerBlockOuter"&gt; &lt;tr&gt; &lt;td class="mcnDividerBlockInner" style="min-width:100%; padding:18px;"&gt; &lt;table class="mcnDividerContent" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width: 100%;border-top: 2px solid #505050;"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td&gt; &lt;span&gt;&lt;/span&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;!-- &lt;td class="mcnDividerBlockInner" style="padding: 18px;"&gt; &lt;hr class="mcnDividerContent" style="border-bottom-color:none; border-left-color:none; border-right-color:none; border-bottom-width:0; border-left-width:0; border-right-width:0; margin-top:0; margin-right:0; margin-bottom:0; margin-left:0;" /&gt;--&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;table border="0" cellpadding="0" cellspacing="0" width="100%" class="mcnTextBlock" style="min-width:100%;"&gt; &lt;tbody class="mcnTextBlockOuter"&gt; &lt;tr&gt; &lt;td valign="top" class="mcnTextBlockInner" style="padding-top:9px;"&gt; &lt;!--[if mso]&gt; &lt;table align="left" border="0" cellspacing="0" cellpadding="0" width="100%" style="width:100%;"&gt; &lt;tr&gt; &lt;![endif]--&gt; &lt;!--[if mso]&gt; &lt;td valign="top" width="600" style="width:600px;"&gt; &lt;![endif]--&gt; &lt;table align="left" border="0" cellpadding="0" cellspacing="0" style="max-width:100%; min-width:100%;" width="100%" class="mcnTextContentContainer"&gt; &lt;tbody&gt;&lt;tr&gt; &lt;td valign="top" class="mcnTextContent" style="padding-top:0; padding-right:18px; padding-bottom:9px; padding-left:18px;"&gt; &lt;em&gt;Copyright © *|CURRENT_YEAR|* *|LIST:COMPANY|*, All rights reserved.&lt;/em&gt;&lt;br&gt;*|IFNOT:ARCHIVE_PAGE|* *|LIST:DESCRIPTION|* &lt;br&gt; &lt;br&gt; &lt;strong&gt;Our mailing address is:&lt;/strong&gt; &lt;br&gt; *|HTML:LIST_ADDRESS_HTML|* *|END:IF|* &lt;br&gt; &lt;br&gt; Want to change how you receive these emails?&lt;br&gt; You can &lt;a href="*|UPDATE_PROFILE|*"&gt;update your preferences&lt;/a&gt; or &lt;a href="*|UNSUB|*"&gt;unsubscribe from this list&lt;/a&gt;. &lt;br&gt; &lt;br&gt; *|IF:REWARDS|* *|HTML:REWARDS|**|END:IF|* &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;!--[if mso]&gt; &lt;/td&gt; &lt;![endif]--&gt; &lt;!--[if mso]&gt; &lt;/tr&gt; &lt;/table&gt; &lt;![endif]--&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt;&lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;!--[if (gte mso 9)|(IE)]&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;![endif]--&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;!-- // END TEMPLATE --&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/table&gt; &lt;/center&gt; &lt;/body&gt;&lt;/html&gt; html_image(folder)]]></content>
      <categories>
        <category>coding_testing</category>
      </categories>
      <tags>
        <tag>node.js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[server_connect]]></title>
    <url>%2F2019%2F04%2F22%2Fserver-connect%2F</url>
    <content type="text"><![CDATA[Nodejs server &amp;&amp; Python servernodejs server和python server之间用RESTful API通信，把前端上传图片的文件路径传给python server. Client.js (node.js server) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111var multer = require('multer');// var fs = require('fs');var path = require('path');var express = require('express');var app = express();// var request = require('request');app.get('/', function (req, res) &#123; res.send('Hello World');&#125;)var server = app.listen(8081, function () &#123; var host = server.address().address var port = server.address().port console.log("应用实例，访问地址为 http://%s:%s", host, port)&#125;)// upload imagevar storage01 = multer.diskStorage(&#123; destination: './images/', filename: function(req, file, cb) &#123; return cb(null, "" + file.originalname); &#125; &#125;);app.post("/user/image", multer(&#123; storage: storage01 &#125;).single('image'), function(req, res) &#123; console.log('Sign saved!'); var email = req.body.email; console.log(email); var path01 = path.join(__dirname,req.file.path); // console.log(path01);// var request = require('request'); var http = require('http'); var qs = require('querystring'); var opt = &#123; host:'127.0.0.1', port:'8888', method:'POST', path:'/', headers:&#123; 'content-type': "application/json" //'accept-encoding': 'gzip' &#125; &#125;; var body = ''; var req = http.request(opt, function(res) &#123; console.log("Got response: " + res.statusCode); res.on('data',function(d)&#123; body += d; &#125;); res.on('end', function()&#123; console.log(res.headers); console.log(body) &#125;); &#125;); req.on('error', function(e) &#123; console.log("Got error: " + e.message); &#125;); // var data = &#123;num:"1",num1:"123",type:"add"&#125;; var data = &#123;'path01':`'$&#123;path01&#125;'`&#125;; req.write(qs.stringify(data)); req.end();// return res.status(200).end('success');&#125;);// var request = require('request');// var http = require('http');// var qs = require('querystring');// var opt = &#123;// host:'127.0.0.1',// port:'8888',// method:'POST',// path:'/',// headers:&#123;// 'content-type': "application/json"// //'accept-encoding': 'gzip'// &#125;// &#125;;// var body = '';// var req = http.request(opt, function(res) &#123; // console.log("Got response: " + res.statusCode);// res.on('data',function(d)&#123;// body += d;// &#125;);// res.on('end', function()&#123;// console.log(res.headers);// console.log(body)// &#125;);// &#125;);// req.on('error', function(e) &#123;// console.log("Got error: " + e.message);// &#125;); // // var data = &#123;num:"1",num1:"123",type:"add"&#125;;// var data = &#123;'path01':'path01'&#125;; // req.write(qs.stringify(data));// req.end(); Server.js (python server) 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107// var http = require("http"); // var url = require("url"); // var query = require("querystring"); // var server = function(request,response)&#123;// response.writeHead(200,&#123;"Content-Type":"text/json"&#125;);// var postdata = "";// request.addListener("data",function(postchunk)&#123;// postdata += postchunk; // &#125;)// request.addListener("end",function()&#123;// var params = query.parse(postdata);// console.log(params['path01'])// console.log(params['path01'])// // console.log(params['result']);// response.write(JSON.stringify(params));// response.end();// &#125;)// &#125;// http.createServer(server).listen(8888);// console.log("Server start!"); //---------------------//express.js 文件var express = require('express');var app = express();var server = app.listen(8888, function () &#123; var host = server.address().address var port = server.address().port console.log("应用实例，访问地址为 http://%s:%s", host, port)&#125;)app.post('/uploadFile',function(req,res)&#123; response.writeHead(200,&#123;"Content-Type":"text/json"&#125;); var postdata = ""; request.addListener("data",function(postchunk)&#123; postdata += postchunk; &#125;) request.addListener("end",function()&#123; var params = query.parse(postdata); console.log(params['path01']) console.log(params['path01']) // console.log(params['result']); response.write(JSON.stringify(params)); response.end(); &#125;)&#125;)//---------------------// var http = require("http"); //提供web服务// var url = require("url"); //解析GET请求 // var query = require("querystring"); //解析POST请求 // //服务// var server = function(request,response)&#123;// //定义报文头// response.writeHead(200,&#123;"Content-Type":"text/json"&#125;);// //判断是GET/POST请求// if(request.method == "GET")&#123;// var params = [];// params = url.parse(request.url,true).query;// params['result'] = compute(params);// response.write(JSON.stringify(params));// response.end();// &#125;else&#123;// var postdata = "";// request.addListener("data",function(postchunk)&#123;// postdata += postchunk; // &#125;) // //POST结束输出结果// request.addListener("end",function()&#123;// var params = query.parse(postdata);// console.log(params['path01'])// console.log(params['path01'])// params['result'] = compute(params);// // console.log(params['result']);// response.write(JSON.stringify(params));// response.end();// &#125;)// &#125;// &#125; // //计算// var compute = function(params)&#123;// switch(params['type'])&#123;// case "add": return parseFloat(params['num']) + parseFloat(params['num1']);break;// case "sub": return parseFloat(params['num']) - parseFloat(params['num1']);break;// case "mul": return parseFloat(params['num']) * parseFloat(params['num1']);break;// case "div": return parseFloat(params['num']) / parseFloat(params['num1']);break;// &#125;// &#125;; // http.createServer(server).listen(8888);// console.log("Server start!");]]></content>
      <categories>
        <category>coding_testing</category>
      </categories>
      <tags>
        <tag>node.js</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Hello World]]></title>
    <url>%2F2019%2F04%2F21%2Fhello-world%2F</url>
    <content type="text"><![CDATA[Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new "My New Post" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment]]></content>
  </entry>
</search>
